!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],e):"object"==typeof exports?exports.selectr=e(require("jQuery")):t.selectr=e(t.jQuery)}(this,function(t){return function(t){function e(s){if(i[s])return i[s].exports;var r=i[s]={exports:{},id:s,loaded:!1};return t[s].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var s,r=function(t,e){return function(){return t.apply(e,arguments)}};s=i(1),function(t,e){var i;return i=function(){function i(e,i){this.source=e,this.args=i,this.updateFooter=r(this.updateFooter,this),this.deselectOption=r(this.deselectOption,this),this.selectOption=r(this.selectOption,this),this.triggerChange=r(this.triggerChange,this),this.args=t.extend({},this.defaults,this.args,this.source.data("selectr-opts")),this.multi=this.source.prop("multiple"),this.createSelectr(),this.monitorSource(),this.selectrContainer.insertAfter(this.source),this.selectrContainer=t(this.source.next()),this.bindEventListeners(),this.source.hide()}return i.prototype.defaults={title:"Select Options",noMatchingOptionsText:"No options found",placeholder:"Search",resetText:"Clear All",width:"300px",maxListHeight:"250px",tooltipBreakpoint:25,maxSelection:1/0,panelStyle:"default",alwaysShowFooter:!1},i.prototype.createSelectr=function(){return this.selectrContainer=this.createContainer(),t(".list-group",this.selectrContainer).append(this.createOpts()),this.updateFooter()},i.prototype.createContainer=function(){return t(document.createElement("div")).addClass("selectr panel panel-"+this.args.panelStyle+" "+(this.multi?"multi":void 0)).css("width",this.args.width).html("<div class='panel-heading "+(""===this.args.title?"no-title":void 0)+"'> <h4 class='panel-title'> "+this.args.title+" </h4> </div> <div class='panel-body'> <input class='form-control' placeholder='"+this.args.placeholder+"'> <span class='clear-search hidden'>&times;</span> </div> <ul class='list-group' style='max-height: "+this.args.maxListHeight+"'> </ul> <div class='no-matching-options hidden'> <strong>"+this.args.noMatchingOptionsText+"</strong> </div> <div class='panel-footer "+(this.multi||this.args.alwaysShowFooter?void 0:"hidden")+"'> <button class='reset btn btn-sm btn-default' type='button'> "+this.args.resetText+" </button> "+(this.multi?"<span class='current-selection badge'></span>":"")+" </div>")},i.prototype.createOpts=function(){var e,i,s,r,n;for(r=t("option",this.source),n=[],e=0,i=r.length;i>e;e++)s=r[e],n.push(t(document.createElement("li")).addClass("list-group-item "+(t(s).is(":selected")?"selected":void 0)).data("val",t(s).val()).append(t(document.createElement("div")).addClass("color-code "+(t(s).data("selectr-color")?void 0:"no-color")).css("background-color",t(s).data("selectr-color"))).append(t(document.createElement("div")).text(t(s).text()).addClass("option-name").attr({title:t(s).text().length>this.args.tooltipBreakpoint?t(s).text():""})).append(t(document.createElement("div")).html("&times").addClass("add-remove "+(this.multi?void 0:"hidden"))));return n},i.prototype.monitorSource=function(){var i,s,r;return i=function(e){return function(){var i;return i=t(document.createElement("ul")).addClass("list-group").css("max-height",e.args.maxListHeight).append(e.createOpts()),t(".list-group",e.selectrContainer).replaceWith(i),e.updateFooter()}}(this),this.source.on("change",function(t,e){return"selectrInitiated"!==e?i():void 0}),s=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,null!=s?(r=new s(function(e){return t.each(e,i)}),r.observe(this.source.get(0),{attributes:!1,childList:!0,subtree:!0})):void 0},i.prototype.bindEventListeners=function(){var e,i,s,r,n,o,a,l,c,d,h,u,p,g;return a=this.multi,h=this.selectrContainer,u=this.source,d=this.selectOption,n=this.deselectOption,p=this.triggerChange,g=this.updateFooter,o=function(e){var i,s;return e.stopPropagation(),2!==(null!=(s=e.originalEvent)?s.detail:void 0)?(i=(e.ctrlKey||e.metaKey)&&a,t(this).hasClass("selected")&&(i||0===t(this).siblings(".selected").length)&&a?n(this):d(i,this)):void 0},e=function(e){var i;return e.stopPropagation(),e.originalEvent.detail&&2===e.originalEvent.detail?void 0:(i=t(e.target).parents(".list-group-item"),i.hasClass("selected")?n(i):d(!0,i))},c=function(e){var i,s,r,n;return e.stopPropagation(),r=new RegExp(t(this).val().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"i"),n=!0,t(".list-group-item",h).each(function(e,i){t(i).text().match(r)?(t(i).removeClass("hidden"),n=!1):t(i).addClass("hidden")}),i=t(".clear-search",h),t(this).val().length>0?i.removeClass("hidden"):i.addClass("hidden"),s=t(".no-matching-options",h),n?s.removeClass("hidden"):s.addClass("hidden")},i=function(){return t(this).siblings("input").val("").trigger("change")},l=function(){return h.find("ul > li").removeClass("selected"),t("option",u).prop("selected",!1),p(u),g()},s=function(e){return e.ctrlKey?t(".list-group",h).addClass("ctrl-key"):void 0},r=function(e){return e.ctrlKey?void 0:t(".list-group",h).removeClass("ctrl-key")},t(h).on("click",".list-group-item",o),t(h).on("click",".add-remove",e),t(h).on("click change keyup",".form-control",c),t(h).on("click",".clear-search",i),t(h).on("click",".reset",l),t(document).on("keydown",s),t(document).on("keyup",r)},i.prototype.triggerChange=function(){return this.source.trigger("change",["selectrInitiated"])},i.prototype.selectOption=function(e,i){var s,r,n,o;if(!(this.args.maxSelection<=t(i).siblings(".selected").length&&e)){if(!e)for(t("option",this.source).prop("selected",!1),n=t(i).siblings(),s=0,r=n.length;r>s;s++)o=n[s],t(o).removeClass("selected");return t(i).addClass("selected"),t("option[value='"+t(i).data("val")+"']",this.source).prop("selected",!0),this.updateFooter(),this.triggerChange()}},i.prototype.deselectOption=function(e){return this.selectrContainer.removeClass("max-selection-reached"),t(e).removeClass("selected"),t("option[value="+t(e).data("val")+"]",this.source).prop("selected",!1),this.updateFooter(),this.triggerChange()},i.prototype.updateFooter=function(){var e,i;if(this.multi&&(i=t("option:selected",this.source).length,t(".current-selection",this.selectrContainer).text(i>0?i:""),i===this.args.maxSelection?this.selectrContainer.addClass("max-selection-reached"):this.selectrContainer.removeClass("max-selection-reached"),!this.args.alwaysShowFooter))return e=t(".panel-footer",this.selectrContainer),0===i?e.addClass("hidden"):e.removeClass("hidden")},i}(),t.fn.extend({selectr:function(e){return this.each(function(){var s;return s=t(this),s.data("selectr-initialized")?void 0:(new i(s,e),s.data("selectr-initialized",!0))})}})}(s,this)},function(e){e.exports=t}])});